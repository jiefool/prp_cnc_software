<!DOCTYPE html>
<html lang="en">
<head>
  <title>OPR8 1.0</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/fontawesome.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
  <div class="container-fluid">


    <div class="row header">
      <div class="col-md-2">
        <div id="app-banner"></div>
      </div>
      <div class="col-md-1 col-md-offset-8 nav-text-menu">
          Language
      </div>
      <div class="col-md-1 nav-text-menu">
        Help
      </div>
    </div>


  
    <div class="row main">
      <div id="machine-select" style="display:block">
        <div class="col-md-12">
          <h2 class="main-menu-title">Which machine do you want to use?</h2>
        </div>

        <div class="col-md-12">
          <div class="machine-select-container">
            <div class="machine-container">
              <div class="machine-image">
                <image src="images/milling_machine.png" width="230">
              </div>
              <h2>Milling Machine</h2>
              <button class="prp-button" id="milling-operation">
                Select
              </button>
            </div>

            <div class="machine-container">
              <div class="machine-image">
                <image src="images/laser_cutter.png" width="230">
              </div>
              <h2>Laser Cutter</h2>
              <button class="prp-button" id="laser-operation">
                Select
              </button>
            </div>

            <div class="machine-container">
              <div class="machine-image">
                <image src="images/3d_printer.png" width="230">
              </div>
              <h2>3D Printer</h2>
              <button class="prp-button" id="3d-operation">
                Select
              </button>
            </div>
          </div>
        </div>
      </div>


      <!-- ######## LASER ######## -->
      <div class="laser-operation-wrapper">

        <div id="laser-operation-select" class="laser-option" style="display:none">
          <div class="col-md-12">
            <div class="col-md-8 col-md-offset-2">
              <div class="col-md-4">
                <image src="images/laser_cutter.png" width="300" />
              </div>
              <div class="col-md-8 action-pane">
                <h1>Laser Cutter</h1>
                <p>What would you want to do with the Laser Cutter?</p>
                <div class="col-md-12">
                  <button class="prp-button" id="laser-prepare-file">Prepare a File</button>
                  <button class="prp-button" id="laser-cut-material">Cut a Material</button>
                </div>
              </div>
            </div>
          </div>
        </div>



        <div class="laser-setup" id="laser-setup" style="display:none">
          <div class="col-md-10 col-md-offset-1">
            <div class="col-md-12">
              <h2>Laser Cutter</h2>
            </div>

            <div class="laser-setup-params">
              <div class="col-md-8">
                <div class="canvas-area">
                  <canvas id="canvas"></canvas>
                </div>
              </div>

              <div class="col-md-4">
                <div class="laser-params-left-panel-wrapper">
                  <div class="laser-file laser-file-action-1" >
                    <h4>Step 1: Open File</h4>
                    <input type="file" id="selectedFile" style="display: none;" accept="image/svg" onchange="svgImport()" />
                    <button class="prp-button" id="laser-import-svg">Add File</button>
                    <button class="prp-button" id="laser-clear-canvas">Clear Board</button>
                  </div>

                  <div class="laser-file laser-file-action-2" style="display:none">
                    <h4>Step 2: Set Parameters</h4>
                    <div>
                      <div class="col-md-12">
                        <div class="col-md-2"> </div>
                        <div class="col-md-5 text-center">Power</div>
                        <div class="col-md-5 text-center">Speed</div>
                      </div>

                      <div class="col-md-12 speed-power-params"></div>

                      <div class="laser-params-buttons">
                        <button class="prp-button" id="generate-gcode-btn">
                          Generate G-Code
                        </button>
                        <button class="prp-button">
                          Clear Settings
                        </button>
                      </div>
                    </div>
                  </div>

                  <div class="laser-file-action-step" style="padding: 0px 10px">
                    <div class="preparation-text-wrapper">
                      <div class="preparation-text-prev" style="display: none">
                        <img src="images/prev_arrow.png" width="15"/>
                        Back
                      </div>

                      <div class="preparation-text-next">
                        Next
                        <img src="images/next_arrow.png" width="15"/>
                      </div>
                    </div>

                    <div class="preparation-step-small-wrapper">
                      <div class="preparation-step-small current-step" id="laser-prep-step-1">1</div>
                      <div class="preparation-step-small" id="laser-prep-step-2">2</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>



        <div id="laser-operate" class="row laser-operate" style="display:none">
          <div class="col-md-10 col-md-offset-1">
            <div class="col-md-12">
              <h2>Laser Cutter</h2>
            </div>

            <div class="col-md-4">
              <div class="laser-operate-panel" style="height: 505px">
                <div class="panel-wrapper">
                  <div class="laser-operations laser-operate-step-1 file-import" style="display:none">
                    <h4>Step 1: Open File</h4>
                    <input type="file" id="gcodeFileSelect" style="display: none;" accept="[*/gcode]" onchange="gcodeImport()" />
                    <button class="prp-button" onclick="document.getElementById('gcodeFileSelect').click();">IMPORT GCODE</button>
                    <button class="prp-button" id="clear-cut-en-canvas" onclick="clearCutEngraveCanvas()">Clear</button>
                    <div style="padding: 10px">
                    <p>Imported Gcode:</p>
                    <p id="gcode-path"></p>
                    </div>
                  </div>

                  <div class="laser-operations laser-operate-step-2" id="device-select" style="display:block">
                    <h4>Step 2: Select Machine</h4>
                    <button class="prp-button machine" onclick="openPort(57600)">Fabool Laser Mini</button>
                    <button class="prp-button machine" onclick="openPort()">Fabool Laser C02</button>
                    <button class="prp-button machine" onclick="">PRP IWI Laser</button>
                    <br/>
                    <p id="laser-port">
                      Laser device in port:
                    </p>
                    <br/>
                    <p id="connection-status">
                      Connection status:
                    </p>
                  </div>

                  <div class="laser-operations laser-operate-step-3 laser-actions" style="display:none">
                    <h4>Step 3: Open File</h4>
                    <div class="lasing-time">
                      00:00:00
                    </div>

                    <div class="col-md-12">
                      <div class="cut-wrapper">
                        <div class="cut-button"></div>
                        Cut
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="ps-wrapper">
                        <div class="pause-wrapper">
                          <div class="pause-button"></div>
                          Pause
                        </div>
                        <div class="stop-wrapper">
                          <div class="stop-button"></div>
                          Stop
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="laser-file-action-step">
                  <div class="operation-text-wrapper">
                    <div class="operation-text-prev">
                      <img src="images/prev_arrow.png" width="15"/>
                      Back
                    </div>

                    <div class="operation-text-next">
                      Next
                      <img src="images/next_arrow.png" width="15"/>
                    </div>
                  </div>

                  <div class="operation-step-small-wrapper-operate">
                    <div class="operation-step-small oss-1 current-step">1</div>
                    <div class="operation-step-small oss-2 ">2</div>
                    <div class="operation-step-small oss-3 ">3</div>
                  </div>
                </div>

              </div>
            </div>

            <div class="col-md-8 canvas-area">
              <canvas id="en-cut-canvas" width="200" height="500"></canvas>
            </div>
          </div>

        </div>

      </div>
      <!-- ######## LASER ######## -->


    </div>

    <div class="row footer">
     <div class="col-md-12">
        <div class="operation-step-wrapper">
          <div class="prev-container">
            <div class="prev-next-arrow"><img src="images/prev_arrow.png" width="30"></div>
            <div class="operation-step os-no-fx current-step prev-num">2</div>
          </div>
          <div class="operation-step-container">
            <div class="operation-step current-step" id="step-num-1">1</div>
            <div class="operation-step next-step" id="step-num-2">2</div>
            <div class="operation-step" id="step-num-3">3</div>
            <div class="operation-step" id="step-num-4">4</div>
          </div>
          <div class="next-container">
            <div class="prev-next-arrow"><img src="images/next_arrow.png" width="30"></div>
            <div class="operation-step os-no-fx current-step next-num">2</div>
          </div>
        </div>
        <div class="operation-step-container">
          <div class="operation-label ol-current" id="step-label-1">Machine Selection</div>
          <div class="operation-label ol-next" id="step-label-2">Machine Actions</div>
          <div class="operation-label" id="step-label-3">File Preparation</div>
          <div class="operation-label" id="step-label-4">Machine Operation</div>
        </div>
      </div> 
    </div>


  </div>



<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
<script src="js/jquery.min.js"></script>
<script src="js/cookies.js"></script>
<script src="js/fabric.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/fontawesome.js"></script>
<script src="js/gcode_writer.js"></script>
<script src="js/app.js"></script>
<script src="js/ui.js"></script>
<script src="js/translation.js"></script>
<script>if (window.module) module = window.module;</script>

</body>
</html>