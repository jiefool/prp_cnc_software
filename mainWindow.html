<!DOCTYPE html>
<html lang="en">
<head>
  <title>OPR8 1.0</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/fontawesome.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
  <div class="container-fluid">


    <div class="row header">
      <div class="col-md-2">
        <div id="app-banner"></div>
      </div>
      <div class="col-md-1 col-md-offset-8 nav-text-menu">
        <div class="dropdown">
          <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
              <span class="text_language">Language</span>
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <li><a href="javascript: setLanguage('english')">English</a></li>
            <li><a href="javascript: setLanguage('bisaya')">Bisaya</a></li>
          </ul>
        </div>
      </div>
      <div class="col-md-1 nav-text-menu" style="padding-top: 28px">
        <span class="text_help">Help</span>
      </div>
    </div>

    <div class="row back-home-btns">
      <div class="col-md-10 col-md-offset-2 back-home-btns-wrapper">
        <div class="main-back-btn">
          <image src="images/prev_arrow.png" height="30">
          <span class="text_back">Back</span>
        </div>
        <div class="main-home-btn">
          <image src="images/home_btn.png" height="28">
          <span class="text_home">Home</span>
        </div>
      </div>
    </div>
  
    <div class="row main">
      <div id="machine-select" style="display:block">
        <div class="col-md-12">
          <h2 class="main-menu-title"><span class="text_which_machine">Which machine do you want to use?</span></h2>
        </div>

        <div class="col-md-12">
          <div class="machine-select-container">
            <div class="machine-container">
              <div class="machine-image">
                <image src="images/milling_machine.png" width="230">
              </div>
              <h2><span class="text_milling_machine">Milling Machine</span></h2>
              <button class="prp-button disable-btn machine-select-btn" id="milling-operation" data-view="milling-operation-select" disabled>
                <span class="text_select">Select</span>
              </button>
            </div>

            <div class="machine-container">
              <div class="machine-image">
                <image src="images/laser_cutter.png" width="230">
              </div>
              <h2><span class="text_laser_cutter">Laser Cutter</span></h2>
              <button class="prp-button machine-select-btn" id="laser-operation" data-view="laser-operation-select">
                <span class="text_select">Select</span>
              </button>
            </div>

            <div class="machine-container">
              <div class="machine-image">
                <image src="images/3d_printer.png" width="230">
              </div>
              <h2><span class="text_3d_printer">3D Printer</span></h2>
              <button class="prp-button disable-btn machine-select-btn" id="3d-operation" data-view="3d-operation-select" disabled>
                <span class="text_select">Select</span>
              </button>
            </div>
          </div>
        </div>
      </div>


      <!-- ######## LASER ######## -->
      <div class="laser-operation-wrapper">

        <div id="laser-operation-select" class="laser-option" style="display:none">
          <div class="col-md-12">
            <div class="col-md-8 col-md-offset-2">
              <div class="col-md-4">
                <image src="images/laser_cutter.png" width="300" />
              </div>
              <div class="col-md-8 action-pane">
                <h1><span class="text_laser_cutter">Laser Cutter</span></h1>
                <p><span class="text_laser_what_to_do">What would you want to do with the Laser Cutter?</span></p>
                <div class="col-md-12">
                  <div class="tooltip">
                    <button class="prp-button" id="laser-prepare-file"><span class="text_prepare_file">Prepare a File</span></button>
                    <span class="tooltiptext">3 | <span class="text_file_preparation">File Preparation</span></span>
                  </div>
                  <div class="tooltip">
                    <button class="prp-button" id="laser-cut-material"><span class="text_cut_material">Cut a Material</span></button>
                    <span class="tooltiptext">4 | <span class="text_machine_operation">Machine Operation</span></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>



        <div class="laser-setup" id="laser-setup" style="display:none">
          <div class="col-md-10 col-md-offset-1">
            <div class="col-md-12">
              <h3><span class="text_laser_cutter">Laser Cutter</span> | <span class="text_file_preparation">File Preparation</span></h3>
            </div>

            <div class="laser-setup-params">
              <div class="col-md-8">
                <div class="canvas-area">
                  <canvas id="canvas"></canvas>
                </div>
              </div>

              <div class="col-md-4">
                <div class="laser-params-left-panel-wrapper">
                  <div class="laser-file laser-file-action-1" >
                    <h4><span class="text_step">Step</span> 1: <span class="text_open_file">Open File</span></h4>
                    <input type="file" id="selectedFile" style="display: none;" accept="image/svg" onchange="svgImport()" />
                    <button class="prp-button" id="laser-import-svg"><span class="text_add_file">Add File</span></button>
                    <button class="prp-button" id="laser-clear-canvas"><span class="text_clear_board">Clear Board</span></button>
                  </div>

                  <div class="laser-file laser-file-action-2" style="display:none">
                    <h4><span class="text_step">Step</span> 2: <span class="text_set_parameters">Set Parameters</span></h4>
                    <div>
                      <div class="col-md-12">
                        <div class="col-md-2"></div>
                        <div class="col-md-5 text-center"><span class="text_power">Power</span>(%)</div>
                        <div class="col-md-5 text-center"><span class="text_speed">Speed</span>(mm/s)</div>
                      </div>

                      <div class="col-md-12 speed-power-params"></div>

                      <div class="laser-params-buttons">
                        <button class="prp-button" id="generate-gcode-btn">
                          <span class="text_generate_gcode">Generate G-Code</span>
                        </button>
                        <button class="prp-button" id="clear-settings-btn">
                          <span class="text_clear_settings">Clear Settings</span>
                        </button>
                      </div>
                    </div>
                  </div>

                  <div class="laser-file-action-step" style="padding: 0px 10px">
                    <div class="preparation-text-wrapper">
                      <div class="preparation-text-prev" style="display: none">
                        <img src="images/prev_arrow.png" width="15"/>
                        <span class="text_back">Back</span>
                      </div>

                      <div class="preparation-text-next" style="display:none">
                        <span class="text_next">Next</span>
                        <img src="images/next_arrow.png" width="15"/>
                      </div>
                    </div>

                   <!--  <div class="preparation-step-small-wrapper">
                      <div class="preparation-step-small current-step" id="laser-prep-step-1">1</div>
                      <div class="preparation-step-small" id="laser-prep-step-2">2</div>
                    </div> -->
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>



        <div id="laser-operate" class="row laser-operate" style="display:none">
          <div class="col-md-10 col-md-offset-1">
            <div class="col-md-12">
              <h3><span class="text_laser_cutter">Laser Cutter</span> | <span class="text_laser_operation">Laser Operation</span></h3>
            </div>

            <div class="col-md-4">
              <div class="laser-operate-panel" style="height: 505px">
                <div class="panel-wrapper">
                  <div class="laser-operations laser-operate-step-1 file-import" style="display:block">
                    <h4><span class="text_step">Step</span> 1: <span class="text_open_file">Open File</span></h4>
                    <input type="file" id="gcodeFileSelect" style="display: none;" accept="[*/gcode]" onchange="gcodeImport()" />
                    <button class="prp-button" id="import-gcode-btn" onclick="document.getElementById('gcodeFileSelect').click();"><span class="text_import_gcode">IMPORT GCODE</span></button>
                    <button class="prp-button" id="clear-cut-en-canvas" onclick="clearCutEngraveCanvas()"><span class="text_clear">Clear</span></button>
                  </div>

                  <div class="laser-operations laser-operate-step-2" id="device-select" style="display:none">
                    <h4><span class="text_step">Step</span> 2: <span class="text_select_machine">Select Machine</span></h4>
                    <button class="prp-button machine" onclick="openPort(57600)">Fabool Laser Mini</button>
                    <button class="prp-button machine" onclick="openPort()">Fabool Laser C02</button>
                    <button class="prp-button machine" onclick="">PRP IWI Laser</button>
                  </div>

                  <div class="laser-operations laser-operate-step-3 laser-actions" style="display:none">
                    <h4><span class="text_step">Step</span> 3: <span class="text_open_file">Open File</span></h4>
                    <div class="lasing-time">
                      00:00:00
                    </div>

                    <div class="col-md-12">
                      <div class="cut-wrapper">
                        <div class="cut-button"></div>
                        <span id="cut-span" class="text_cut">Cut</span>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="ps-wrapper">
                        <div class="pause-wrapper">
                          <div class="pause-button pb-disabled"></div>
                          <span class="text_pause">Pause</span>
                        </div>
                        <div class="stop-wrapper">
                          <div class="stop-button sb-disabled"></div>
                          <span class="text_stop">Stop</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="laser-file-action-step">
                  <div class="operation-text-wrapper">
                    <div class="operation-text-prev" style="display:none">
                      <img src="images/prev_arrow.png" width="15"/>
                      <span class="text_back">Back</span>
                    </div>

                    <div class="operation-text-next" style="display:none">
                      <span class="text_next">Next</span>
                      <img src="images/next_arrow.png" width="15"/>
                    </div>
                  </div>

                <!--   <div class="operation-step-small-wrapper-operate">
                    <div class="operation-step-small oss-1 current-step">1</div>
                    <div class="operation-step-small oss-2 ">2</div>
                    <div class="operation-step-small oss-3 ">3</div>
                  </div> -->
                </div>

              </div>
            </div>

            <div class="col-md-8 canvas-area cut-canvas-area">
              <canvas id="en-cut-canvas" width="771" height="500"></canvas>
              <div class="status-wrapper device-status" style="display:none">
                  <span id="laser-port" class="text_laser_device_port">
                    Laser device in port:
                  </span>
                    
                  <span id="connection-status" class="text_connection_status">
                    Connection status:
                  </span>
              </div>
              <div class="status-wrapper import-gcode-status">
                <span class="text_imported_gcode">Imported Gcode:</span></span>
                <span id="gcode-path"></span>
              </div>
            </div>
          </div>

        </div>

      </div>
      <!-- ######## LASER ######## -->


    </div>

    <div class="row footer">
     <div class="col-md-12 footer-breadcrumb">
        <div class="operation-step-wrapper">
          <!-- <div class="prev-container">
            <div class="dir-arrow prev-arrow"><img src="images/prev_arrow.png" width="30"></div>
            <div class="operation-step os-no-fx current-step prev-num">2</div>
          </div> -->
          <div class="operation-step-container">
            <div class="operation-step next-step current-step" id="step-num-1">1</div>
            <div class="operation-step next-step" id="step-num-2">2</div>
            <div class="operation-step next-step" id="step-num-3">3</div>
            <div class="operation-step next-step" id="step-num-4">4</div>
          </div>
          <!-- <div class="next-container" style="display:none">
            <div class="dir-arrow next-arrow"><img src="images/next_arrow_disabled.png" width="30"></div>
            <div class="operation-step os-no-fx next-num os-disable">2</div>
          </div> -->
        </div>
        <div class="operation-step-container">
          <div class="operation-label ol-current" id="step-label-1"><span class="text_machine_selection">Machine Selection</span></div>
          <div class="operation-label" id="step-label-2"><span class="text_machine_actions">Machine Actions</span></div>
          <div class="operation-label" id="step-label-3"><span class="text_file_preparation">File Preparation</span></div>
          <div class="operation-label" id="step-label-4"><span class="text_machine_operation">Machine Operation</span></div>
        </div>
      </div> 
    </div>


  </div>



<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
<script src="js/jquery.min.js"></script>
<script src="js/cookies.js"></script>
<script src="js/fabric.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/fontawesome.js"></script>
<script src="js/gcode_writer.js"></script>
<script src="js/app.js"></script>
<script src="js/ui.js"></script>
<script src="js/translation.js"></script>
<script>if (window.module) module = window.module;</script>

</body>
</html>